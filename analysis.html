<!doctype html>
<html lang="bg">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Iris-Holistica AI - Започнете своя анализ</title>
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap"
            rel="stylesheet"
        />
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
        />
        <link rel="stylesheet" href="style.css" />
    </head>
    <body>
        <div class="container">
            <!-- СЕКЦИЯ ЗА АНАЛИЗ -->
            <section id="analysis-section" class="analysis-section">
                <h2>Процес на анализ в 3 лесни стъпки</h2>

                <form id="iridology-form" class="card">
                    <!-- НАВИГАЦИЯ НА СТЪПКИТЕ -->
                    <ul class="stepper-nav" role="list">
                        <li class="step active" data-step="1" role="listitem">
                            <span>1</span>
                            <p>Инфо</p>
                        </li>
                        <li class="step-line" aria-hidden="true"></li>
                        <li class="step" data-step="2" role="listitem">
                            <span>2</span>
                            <p>Навици</p>
                        </li>
                        <li class="step-line" aria-hidden="true"></li>
                        <li class="step" data-step="3" role="listitem">
                            <span>3</span>
                            <p>Снимки</p>
                        </li>
                    </ul>

                    <!-- СТЪПКА 1: ВЪПРОСНИК - ДЕМОГРАФСКИ И ЗДРАВНИ -->
                    <div class="form-step active" data-step="1">
                        <h3>Стъпка 1: Разкажете ни малко за себе си</h3>
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="name">Име:</label>
                                <input type="text" id="name" name="name" required />
                            </div>
                            <div class="form-group">
                                <label for="age">Възраст:</label>
                                <input type="number" id="age" name="age" required />
                            </div>
                            <div class="form-group">
                                <label for="height"
                                    >Ръст (см):
                                    <span
                                        class="tooltip-trigger"
                                        data-tooltip="Ръстът и теглото се използват за изчисляване на BMI и персонализиране на препоръките."
                                        >?</span
                                    ></label
                                >
                                <input type="number" id="height" name="height" />
                            </div>
                            <div class="form-group">
                                <label for="weight">Килограми:</label>
                                <input type="number" id="weight" name="weight" />
                            </div>
                            <div class="form-group full-width">
                                <label for="gender">Пол:</label>
                                <select id="gender" name="gender" required>
                                    <option value="" disabled selected>Изберете</option>
                                    <option value="Мъж">Мъж</option>
                                    <option value="Жена">Жена</option>
                                </select>
                            </div>
                            <div class="form-group full-width">
                                <label>
                                    Вашата основна цел:
                                    <span
                                        class="tooltip-trigger"
                                        data-tooltip="Изборът на цел помага на AI да персонализира препоръките според вашите приоритети. Можете да изберете повече от една цел."
                                        >?</span
                                    >
                                </label>
                                <p class="form-hint">
                                    Изберете всички направления, които искате да развием заедно.
                                </p>
                                <div class="checkbox-group">
                                    <label class="checkbox-item"
                                        ><input
                                            type="checkbox"
                                            name="main-goals"
                                            value="Отслабване"
                                        />
                                        Отслабване</label
                                    >
                                    <label class="checkbox-item"
                                        ><input
                                            type="checkbox"
                                            name="main-goals"
                                            value="Антиейджинг"
                                        />
                                        Антиейджинг</label
                                    >
                                    <label class="checkbox-item"
                                        ><input
                                            type="checkbox"
                                            name="main-goals"
                                            value="Възстановяване"
                                        />
                                        Възстановяване</label
                                    >
                                </div>
                            </div>
                            <details class="form-details full-width">
                                <summary>Здравословно състояние</summary>
                                <div class="details-content">
                                    <p class="form-hint">
                                        Отбележете актуалните за вас състояния, за да адаптираме
                                        анализа.
                                    </p>
                                    <div class="checkbox-group">
                                        <label class="checkbox-item"
                                            ><input
                                                type="checkbox"
                                                name="health-status"
                                                value="Инсулинова резистентност"
                                            />
                                            Инсулинова резистентност</label
                                        >
                                        <label class="checkbox-item"
                                            ><input
                                                type="checkbox"
                                                name="health-status"
                                                value="Диабет тип 2"
                                            />
                                            Диабет тип 2</label
                                        >
                                        <label class="checkbox-item"
                                            ><input
                                                type="checkbox"
                                                name="health-status"
                                                value="Хашимото"
                                            />
                                            Хашимото</label
                                        >
                                        <label class="checkbox-item"
                                            ><input
                                                type="checkbox"
                                                name="health-status"
                                                value="Хипертония"
                                            />
                                            Хипертония</label
                                        >
                                        <label class="checkbox-item"
                                            ><input
                                                type="checkbox"
                                                name="health-status"
                                                value="Повишен холестерол"
                                            />
                                            Повишен холестерол</label
                                        >
                                        <label class="checkbox-item"
                                            ><input
                                                type="checkbox"
                                                name="health-status"
                                                value="Автоимунно заболяване"
                                            />
                                            Автоимунно заболяване</label
                                        >
                                        <label class="checkbox-item"
                                            ><input
                                                type="checkbox"
                                                name="health-status"
                                                value="Храносмилателни проблеми"
                                            />
                                            Храносмилателни проблеми</label
                                        >
                                        <label class="checkbox-item"
                                            ><input
                                                type="checkbox"
                                                name="health-status"
                                                value="Интоксикация на черен дроб"
                                            />
                                            Интоксикация на черен дроб</label
                                        >
                                        <label class="checkbox-item"
                                            ><input
                                                type="checkbox"
                                                name="health-status"
                                                value="Хормонален дисбаланс"
                                            />
                                            Хормонален дисбаланс</label
                                        >
                                        <label class="checkbox-item"
                                            ><input
                                                type="checkbox"
                                                name="health-status"
                                                value="Бременност"
                                            />
                                            Бременност</label
                                        >
                                        <label class="checkbox-item"
                                            ><input
                                                type="checkbox"
                                                name="health-status"
                                                value="Хронична умора"
                                            />
                                            Хронична умора</label
                                        >
                                    </div>
                                    <div class="form-group other-health">
                                        <label for="health-other">Друго:</label>
                                        <input
                                            type="text"
                                            id="health-other"
                                            name="health-other"
                                            placeholder="Опишете друго важно състояние"
                                        />
                                    </div>
                                </div>
                            </details>
                            <div class="form-group full-width">
                                <label
                                    >Фамилна анамнеза:
                                    <span
                                        class="tooltip-trigger"
                                        data-tooltip="Семейната история помага за по-точна оценка на генетичните предразположения."
                                        >?</span
                                    ></label
                                >
                                <input
                                    type="text"
                                    id="family-history"
                                    name="family-history"
                                    placeholder="Напр. 'Баща ми имаше високо кръвно'"
                                />
                            </div>
                        </div>
                        <button type="button" class="btn btn-primary next-btn">
                            Продължи <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>

                    <!-- СТЪПКА 2: ВЪПРОСНИК - НАЧИН НА ЖИВОТ -->
                    <div class="form-step" data-step="2">
                        <h3>Стъпка 2: Вашите навици и начин на живот</h3>
                        <div class="form-grid">
                            <div class="form-group full-width">
                                <label for="water">Прием на вода на ден:</label>
                                <select id="water" name="water" required>
                                    <option>Под 1 литър</option>
                                    <option selected>1-2 литра</option>
                                    <option>Над 2 литра</option>
                                </select>
                            </div>
                            <div class="form-group full-width">
                                <label for="sleep">Средно часове сън:</label>
                                <input type="number" id="sleep" name="sleep" required value="7" />
                            </div>
                            <div class="form-group full-width">
                                <label for="stress"
                                    >Ниво на стрес (1-10):
                                    <span
                                        class="tooltip-trigger"
                                        data-tooltip="Оценете стреса от 1 (минимален) до 10 (критичен). Нива над 7 се считат за високи."
                                        >?</span
                                    ></label
                                >
                                <input
                                    type="range"
                                    id="stress"
                                    name="stress"
                                    min="1"
                                    max="10"
                                    value="5"
                                    oninput="this.nextElementSibling.value = this.value"
                                    required
                                />
                                <output>5</output>
                            </div>
                        </div>
                        <div class="button-group">
                            <button type="button" class="btn btn-secondary prev-btn">
                                <i class="fas fa-arrow-left"></i> Назад
                            </button>
                            <button type="button" class="btn btn-primary next-btn">
                                Продължи <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>

                    <!-- СТЪПКА 3: КАЧВАНЕ НА СНИМКИ -->
                    <div class="form-step" data-step="3">
                        <h3>Стъпка 3: Центрирайте и качете снимки на вашите очи</h3>
                        <div class="upload-instructions">
                            <h4>Инструкции за перфектната снимка:</h4>
                            <ul>
                                <li>
                                    <i class="fas fa-check-circle"></i> Използвайте
                                    <strong>задната камера</strong> на телефона си.
                                </li>
                                <li>
                                    <i class="fas fa-check-circle"></i> Включете
                                    <strong>светкавицата</strong> под ъгъл, за да избегнете
                                    отблясъци.
                                </li>
                                <li>
                                    <i class="fas fa-check-circle"></i> Приближете максимално,
                                    докато ирисът е <strong>на фокус</strong>.
                                </li>
                                <li>
                                    <i class="fas fa-check-circle"></i> След качване, <strong>центрирайте ириса</strong> в кръга с помощта на overlay-а.
                                </li>
                                <li>
                                    <i class="fas fa-check-circle"></i> Използвайте <strong>един пръст за преместване</strong> и <strong>два пръста за мащабиране</strong>.
                                </li>
                            </ul>
                        </div>

                        <!-- Ляво око overlay tool -->
                        <div class="iris-overlay-container" id="left-eye-container" style="display:none;">
                            <h4>Ляво око - Центрирайте ириса</h4>
                            <div class="stage-wrap">
                                <div class="stage">
                                    <img class="photo" id="left-eye-photo" alt="left eye" style="display:none;">
                                    <div class="overlay-wrap">
                                        <div class="overlay-box">
                                            <svg class="iris-overlay" viewBox="-400 -400 800 800" width="100%" height="100%">
                                                <defs>
                                                    <filter id="leftOuterGlow"><feGaussianBlur stdDeviation="6" result="blur"/></filter>
                                                    <filter id="leftCenterGlow"><feGaussianBlur stdDeviation="4" result="blur"/></filter>
                                                    <linearGradient id="leftRingGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                                        <stop offset="0%" style="stop-color:#ff00cc" />
                                                        <stop offset="50%" style="stop-color:#00f0ff" />
                                                        <stop offset="100%" style="stop-color:#ff00cc" />
                                                    </linearGradient>
                                                </defs>
                                                <circle r="320" class="ring-main"/>
                                                <circle r="350" class="outer-ring-grad"/>
                                                <circle r="10" class="center-dot"/>
                                                <path d="M-500,-500 h1000 v1000 h-1000Z M0,360 a360,360 0 1,0 0,-720 a360,360 0 1,0 0,720Z" 
                                                      fill="#040608" fill-rule="evenodd" />
                                            </svg>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="overlay-controls">
                                <button type="button" class="btn btn-secondary reset-btn" data-eye="left">
                                    <i class="fas fa-redo"></i> Нулиране
                                </button>
                                <button type="button" class="btn btn-primary capture-btn" data-eye="left">
                                    <i class="fas fa-check"></i> Потвърди
                                </button>
                            </div>
                        </div>

                        <!-- Дясно око overlay tool -->
                        <div class="iris-overlay-container" id="right-eye-container" style="display:none;">
                            <h4>Дясно око - Центрирайте ириса</h4>
                            <div class="stage-wrap">
                                <div class="stage">
                                    <img class="photo" id="right-eye-photo" alt="right eye" style="display:none;">
                                    <div class="overlay-wrap">
                                        <div class="overlay-box">
                                            <svg class="iris-overlay" viewBox="-400 -400 800 800" width="100%" height="100%">
                                                <defs>
                                                    <filter id="rightOuterGlow"><feGaussianBlur stdDeviation="6" result="blur"/></filter>
                                                    <filter id="rightCenterGlow"><feGaussianBlur stdDeviation="4" result="blur"/></filter>
                                                    <linearGradient id="rightRingGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                                        <stop offset="0%" style="stop-color:#ff00cc" />
                                                        <stop offset="50%" style="stop-color:#00f0ff" />
                                                        <stop offset="100%" style="stop-color:#ff00cc" />
                                                    </linearGradient>
                                                </defs>
                                                <circle r="320" class="ring-main"/>
                                                <circle r="350" class="outer-ring-grad"/>
                                                <circle r="10" class="center-dot"/>
                                                <path d="M-500,-500 h1000 v1000 h-1000Z M0,360 a360,360 0 1,0 0,-720 a360,360 0 1,0 0,720Z" 
                                                      fill="#040608" fill-rule="evenodd" />
                                            </svg>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="overlay-controls">
                                <button type="button" class="btn btn-secondary reset-btn" data-eye="right">
                                    <i class="fas fa-redo"></i> Нулиране
                                </button>
                                <button type="button" class="btn btn-primary capture-btn" data-eye="right">
                                    <i class="fas fa-check"></i> Потвърди
                                </button>
                            </div>
                        </div>

                        <!-- Upload area -->
                        <div class="upload-area-container">
                            <div class="upload-area form-group">
                                <label for="left-eye-upload">Ляво око</label>
                                <input
                                    type="file"
                                    id="left-eye-upload"
                                    name="left-eye-upload"
                                    accept="image/*"
                                    required
                                />
                                <div class="upload-preview" id="left-eye-preview">
                                    <i class="fas fa-eye"></i>
                                    <p>Качи снимка</p>
                                </div>
                            </div>
                            <div class="upload-area form-group">
                                <label for="right-eye-upload">Дясно око</label>
                                <input
                                    type="file"
                                    id="right-eye-upload"
                                    name="right-eye-upload"
                                    accept="image/*"
                                    required
                                />
                                <div class="upload-preview" id="right-eye-preview">
                                    <i class="fas fa-eye"></i>
                                    <p>Качи снимка</p>
                                </div>
                            </div>
                        </div>
                        <div class="disclaimer-note">
                            <i class="fas fa-info-circle"></i>
                            <p>
                                Този анализ е предназначен за образователни цели и не представлява
                                медицинска диагноза.
                            </p>
                        </div>
                        <div class="button-group">
                            <button type="button" class="btn btn-secondary prev-btn">
                                <i class="fas fa-arrow-left"></i> Назад
                            </button>
                            <button type="submit" class="btn btn-primary submit-btn">
                                Изпрати за анализ <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                    </div>
                </form>
                <div id="message-box">
                    <div class="progress-bar-container" style="display: none">
                        <div class="progress-bar"></div>
                    </div>
                    <div class="message-content"></div>
                </div>
            </section>
        </div>
        <script type="module" src="script.js"></script>
    </body>
</html>
