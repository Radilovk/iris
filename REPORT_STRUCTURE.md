# Структура на отговора за `report.html`

Този файл описва какъв JSON обект очаква страницата `report.html`,
която визуализира ирисологичния анализ от локалното хранилище `iridologyReport`.

```jsonc
{
  "summary": "Кратко обобщение на общото състояние.",
  "constitution": [
    "Примерна конституционална характеристика",
    { "text": "Характеристика със източник", "source": "https://пример" }
  ],
  "dispositions": [
    "Предразположение 1",
    "Предразположение 2"
  ],
  "signs": [
    { "text": "Наблюдаван знак", "source": "Учебник по иридология" }
  ],
  "recommendations": [
    "Обща насока",
    { "text": "Насока с източник", "source": "https://пример" }
  ],
  "holistic_analysis": {
    "text": "Разширен свободен анализ.",
    "source": "Вътрешна база"
  },
  "disclaimer": "Важно: този анализ има образователен характер..."
}
```

## Логика и зависимости

- **Ключове** – `report.html` обхожда предварително дефиниран набор от ключове
  (`summary`, `constitution`, `dispositions`, `signs`, `recommendations`,
  `holistic_analysis`). Липсващ ключ се пропуска.
- **Стойности** – всяка стойност може да бъде:
  - **низ** – показва се като параграф;
  - **масив** – визуализира се като списък. Елементът може да бъде низ или обект
    с полета `text` и по желание `source`;
  - **обект** – рендерира се като параграф от `text` и допълнително `source`.
- **Дисклеймър** – ако някоя стойност съдържа низ започващ с „Важно:“, тя се
  отделя и се показва в края на доклада в специален стил.

Тази структура позволява на клиентската логика в `report.html` да създаде
динамичен и безопасен интерфейс за доклада, включително списъци с източници и
разгъваем холистичен анализ.
